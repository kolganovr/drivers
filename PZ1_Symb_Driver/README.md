
# PZ1 Symbolic Driver

Этот проект представляет собой простой символьный драйвер для Linux, разработанный в рамках учебного задания "PZ1" по предмету "Драйверы устройств".

## Описание

Драйвер реализует следующие функции:

*   Инициализация и деинициализация в "старом стиле".
*   Автоматическое создание файла устройства в `/dev/pz1_symb_drv`.
*   Глобальный буфер размером 1024 байта (изначально).
*   Чтение из буфера с помощью `read`.
*   Запись в буфер с помощью `write`.
*   Сброс содержимого буфера и установка нового размера с помощью `ioctl`.

## Сборка

Для сборки драйвера используется `Makefile`. Чтобы собрать драйвер, выполните команду:

```bash
make
```

В результате будет создан файл `pz1_symb_drv.ko`.

## Загрузка и выгрузка драйвера

**Загрузка:**

```bash
sudo insmod pz1_symb_drv.ko
```

При загрузке драйвера автоматически создается файл устройства `/dev/pz1_symb_drv`.

**Выгрузка:**

```bash
sudo rmmod pz1_symb_drv
```

При выгрузке драйвера файл устройства `/dev/pz1_symb_drv` автоматически удаляется.

## Использование

**Чтение:**

```bash
cat /dev/pz1_symb_drv
```

**Запись:**

```bash
echo "Some text" > /dev/pz1_symb_drv
```

**`ioctl`:**

Для сброса буфера используется программа `test_ioctl.c`. Сначала скомпилируйте её:

```bash
gcc -o test_ioctl test_ioctl.c
```

Затем запустите:

```bash
./test_ioctl
```

Программа сбросит размер буфера до 512 байт и очистит его.

## Лицензия

Драйвер распространяется под лицензией GPL.